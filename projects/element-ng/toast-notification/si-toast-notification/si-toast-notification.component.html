@let toastValue = toast();
@let autoClose = !toastValue.disableAutoClose;
@let manualClose = !toastValue.disableManualClose;
<div class="si-toast elevation-2" [class.si-toast-auto-close]="autoClose">
  @if (autoClose) {
    <div
      class="si-toast-timer-bar"
      [style.--play-state]="animationMode()"
      [style.--toast-timer-duration.s]="toastTimeoutInSeconds()"
    ></div>
  }
  <div class="bar" [ngClass]="statusColor()"></div>
  <si-status-icon class="icon" [status]="status()" />

  <div class="toast-content px-4">
    <p class="toast-title"
      ><b>{{ toastValue.title | translate: toastValue.translationParams }}</b></p
    >
    @if (toastValue.message) {
      <p class="mt-4">{{ toastValue.message | translate: toastValue.translationParams }}</p>
    }
    @if (toastValue.action) {
      <p [class.mt-3]="toastValue.message" [class.mt-4]="!toastValue.message">
        <a [siLink]="toastValue.action">{{
          toastValue.action!.title | translate: toastValue.translationParams
        }}</a>
      </p>
    }
  </div>
  @if (manualClose) {
    <button
      type="button"
      tabindex="0"
      class="btn btn-circle btn-sm btn-ghost mt-n2 me-n2"
      [attr.aria-label]="closeAriaLabel() | translate"
      (keydown.enter)="close()"
      (click)="close()"
    >
      <si-icon-next [icon]="icons.elementCancel" />
    </button>
  }
</div>
